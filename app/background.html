<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
  </head>

  <style>
  ::selection { background: transparent }

  .background__image {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    transition: opacity 3500ms;
  }
  </style>

  <body>
    <div id='root'></div>
    <script>
      {
        const { PORT = 3000, HOT } = process.env

        const init = () => {
          const script = document.createElement('script')
          script.src = HOT
            ? `http://localhost:${PORT}/dist/background.js`
            : '../dist/background.js'
          document.head.appendChild(script)
        }

        if (HOT) {
          const script = document.createElement('script')
          script.onload = init
          script.src = `http://localhost:${PORT}/dist/hmr.js`
          document.head.insertBefore(script, document.head.children[0])
        } else init()
      }
    </script>
  </body>
</html>
